<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=ansible,wiki,ops,devops,auto,运维自动化><link href=https://ansible.leops.cn/basic/Reference/Config/ rel=canonical><meta name=author content=lework><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.2.2"><title>5. Ansible 配置 - Ansible wiki</title><link rel=stylesheet href=../../../assets/stylesheets/main.a2408e81.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.a46bcfb3.min.css><meta name=theme-color content=#3f51b5><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#ansible class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://ansible.leops.cn title="Ansible wiki" class="md-header-nav__button md-logo" aria-label="Ansible wiki"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Ansible wiki </span> <span class="md-header-nav__topic md-ellipsis"> 5. Ansible 配置 </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/leops-china/ansible-wiki/ title="前往 GitHub 仓库" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> leops-china/ansible-wiki </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../Introduction/ class="md-tabs__link md-tabs__link--active"> Ansible 入门 </a> </li> <li class=md-tabs__item> <a href=../../../advanced/optimization/ class=md-tabs__link> Ansible 进阶 </a> </li> <li class=md-tabs__item> <a href=../../../dev/ class=md-tabs__link> Ansible 开发 </a> </li> <li class=md-tabs__item> <a href=../../../ui/ class=md-tabs__link> Ansible UI </a> </li> <li class=md-tabs__item> <a href=../../../certification/ class=md-tabs__link> Ansible 认证 </a> </li> <li class=md-tabs__item> <a href=../../../roles/ class=md-tabs__link> Ansible Roles </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://ansible.leops.cn title="Ansible wiki" class="md-nav__button md-logo" aria-label="Ansible wiki"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> Ansible wiki </label> <div class=md-nav__source> <a href=https://github.com/leops-china/ansible-wiki/ title="前往 GitHub 仓库" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> leops-china/ansible-wiki </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=Home class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../../resources/ title="Ansible 资源" class=md-nav__link> Ansible 资源 </a> </li> <li class=md-nav__item> <a href=../../../appreciate/ title=赞赏支持 class=md-nav__link> 赞赏支持 </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4 checked> <label class=md-nav__link for=nav-4> Ansible 入门 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Ansible 入门" data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ansible 入门 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Introduction/ title="1. Ansible 介绍" class=md-nav__link> 1. Ansible 介绍 </a> </li> <li class=md-nav__item> <a href=../../Installation/ title="2. 安装 Ansible" class=md-nav__link> 2. 安装 Ansible </a> </li> <li class=md-nav__item> <a href=../../Quickstart/ title="3. 快速开始" class=md-nav__link> 3. 快速开始 </a> </li> <li class=md-nav__item> <a href=../../Inventory/ title="4. 认识主机清单" class=md-nav__link> 4. 认识主机清单 </a> </li> <li class=md-nav__item> <a href=../../Patterns/ title="5. Patterns 匹配" class=md-nav__link> 5. Patterns 匹配 </a> </li> <li class=md-nav__item> <a href=../../Ad-hoc/ title="6. 使用 ad-hoc 命令" class=md-nav__link> 6. 使用 ad-hoc 命令 </a> </li> <li class=md-nav__item> <a href=../../Ansible-command/ title="7. 熟悉 ansible 命令" class=md-nav__link> 7. 熟悉 ansible 命令 </a> </li> <li class=md-nav__item> <a href=../../Playbook/ title="8. 使用 Playbook" class=md-nav__link> 8. 使用 Playbook </a> </li> <li class=md-nav__item> <a href=../../Include-roles/ title="9. 包含和角色" class=md-nav__link> 9. 包含和角色 </a> </li> <li class=md-nav__item> <a href=../../Variables/ title="10. 使用变量" class=md-nav__link> 10. 使用变量 </a> </li> <li class=md-nav__item> <a href=../../Facts/ title="11. Facts 数据" class=md-nav__link> 11. Facts 数据 </a> </li> <li class=md-nav__item> <a href=../../Jinja2/ title="12. Jinja2 模板语法" class=md-nav__link> 12. Jinja2 模板语法 </a> </li> <li class=md-nav__item> <a href=../../Conditionals-loop/ title="13. 条件判断与循环" class=md-nav__link> 13. 条件判断与循环 </a> </li> <li class=md-nav__item> <a href=../../Blocks/ title="14. Blocks" class=md-nav__link> 14. Blocks </a> </li> <li class=md-nav__item> <a href=../../Playbook-features/ title="15. Playbook 高级特性" class=md-nav__link> 15. Playbook 高级特性 </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-16 type=checkbox id=nav-4-16 checked> <label class=md-nav__link for=nav-4-16> 扩展阅读(深入必读) <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=扩展阅读(深入必读) data-md-level=2> <label class=md-nav__title for=nav-4-16> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 扩展阅读(深入必读) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Yaml/ title="1. YAML 语法" class=md-nav__link> 1. YAML 语法 </a> </li> <li class=md-nav__item> <a href=../Vaults/ title="2. Vaults 加密数据" class=md-nav__link> 2. Vaults 加密数据 </a> </li> <li class=md-nav__item> <a href=../Keywords/ title="3. 关键字使用" class=md-nav__link> 3. 关键字使用 </a> </li> <li class=md-nav__item> <a href=../Module/ title="4. 模块索引" class=md-nav__link> 4. 模块索引 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 5. Ansible 配置 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="5. Ansible 配置" class="md-nav__link md-nav__link--active"> 5. Ansible 配置 </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 目录 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 配置文件 </a> <nav class=md-nav aria-label=配置文件> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 获取默认配置 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 默认配置文件 </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 常用设置 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ansible-config class=md-nav__link> ansible-config </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 配置的优先级 </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 配置项 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-17 type=checkbox id=nav-4-17> <label class=md-nav__link for=nav-4-17> Windows <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Windows data-md-level=2> <label class=md-nav__title for=nav-4-17> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Windows/manager-windows/ title="1. 管理 Windows 主机" class=md-nav__link> 1. 管理 Windows 主机 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Ansible 进阶 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Ansible 进阶" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ansible 进阶 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../advanced/optimization/ title="Ansible 优化" class=md-nav__link> Ansible 优化 </a> </li> <li class=md-nav__item> <a href=../../../advanced/ansible-config/ title="Ansible 的常用设置" class=md-nav__link> Ansible 的常用设置 </a> </li> <li class=md-nav__item> <a href=../../../advanced/best-practices/ title="Ansible 最佳实践" class=md-nav__link> Ansible 最佳实践 </a> </li> <li class=md-nav__item> <a href=../../../advanced/ansible-lint/ title="使用 Ansible-lint" class=md-nav__link> 使用 Ansible-lint </a> </li> <li class=md-nav__item> <a href=../../../advanced/dynamic-hosts/ title=使用动态主机 class=md-nav__link> 使用动态主机 </a> </li> <li class=md-nav__item> <a href=../../../advanced/dynamic-inventory/ title=使用动态主机管理云服务 class=md-nav__link> 使用动态主机管理云服务 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-7 type=checkbox id=nav-5-7> <label class=md-nav__link for=nav-5-7> Ansible 安全 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Ansible 安全" data-md-level=2> <label class=md-nav__title for=nav-5-7> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ansible 安全 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../advanced/security/ title="Ansible 控制节点安全" class=md-nav__link> Ansible 控制节点安全 </a> </li> <li class=md-nav__item> <a href=../../../advanced/security/firewall/ title="- 节点安全: 防火墙设置" class=md-nav__link> - 节点安全: 防火墙设置 </a> </li> <li class=md-nav__item> <a href=../../../advanced/security/ssh-2step/ title="- 节点安全: ssh登录二次验证" class=md-nav__link> - 节点安全: ssh登录二次验证 </a> </li> <li class=md-nav__item> <a href=../../../advanced/security/audit/ title="- 节点安全: 命令审计" class=md-nav__link> - 节点安全: 命令审计 </a> </li> <li class=md-nav__item> <a href=../../../advanced/security/vault-hosts/ title="- 节点安全: 加密主机清单" class=md-nav__link> - 节点安全: 加密主机清单 </a> </li> <li class=md-nav__item> <a href=../../../advanced/security/filter-command/ title="过滤 Ansible 危险指令" class=md-nav__link> 过滤 Ansible 危险指令 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-8 type=checkbox id=nav-5-8> <label class=md-nav__link for=nav-5-8> Ansible 实践 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Ansible 实践" data-md-level=2> <label class=md-nav__title for=nav-5-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ansible 实践 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../advanced/practice/snippets/ title="Ansible Task片段" class=md-nav__link> Ansible Task片段 </a> </li> <li class=md-nav__item> <a href=../../../advanced/practice/jenkins-and-ansible/ title="在 Jenkins 中使用 Ansible" class=md-nav__link> 在 Jenkins 中使用 Ansible </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../advanced/ara/ title="使用 ARA 记录 Ansible 执行结果" class=md-nav__link> 使用 ARA 记录 Ansible 执行结果 </a> </li> <li class=md-nav__item> <a href=../../../advanced/ansible-cmdb/ title="使用 Ansible-cmdb" class=md-nav__link> 使用 Ansible-cmdb </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Ansible 开发 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Ansible 开发" data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ansible 开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dev/ title="Ansible 开发说明" class=md-nav__link> Ansible 开发说明 </a> </li> <li class=md-nav__item> <a href=../../../dev/ansible-architecture/ title="Ansible 架构" class=md-nav__link> Ansible 架构 </a> </li> <li class=md-nav__item> <a href=../../../dev/pycharm-remote-development/ title="使用 PyCharm 远程开发" class=md-nav__link> 使用 PyCharm 远程开发 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-4 type=checkbox id=nav-6-4> <label class=md-nav__link for=nav-6-4> Ansible 调试 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Ansible 调试" data-md-level=2> <label class=md-nav__title for=nav-6-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ansible 调试 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dev/debug/verbose-debug/ title=详细输出 class=md-nav__link> 详细输出 </a> </li> <li class=md-nav__item> <a href=../../../dev/debug/pdb/ title="pdb 本地调试" class=md-nav__link> pdb 本地调试 </a> </li> <li class=md-nav__item> <a href=../../../dev/debug/pycharm/ title="PyCharm 远程调试" class=md-nav__link> PyCharm 远程调试 </a> </li> <li class=md-nav__item> <a href=../../../dev/debug/module-debug/ title=模块调试 class=md-nav__link> 模块调试 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-5 type=checkbox id=nav-6-5> <label class=md-nav__link for=nav-6-5> Module 开发 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Module 开发" data-md-level=2> <label class=md-nav__title for=nav-6-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Module 开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dev/modules/ title="Module 开发说明" class=md-nav__link> Module 开发说明 </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/remote_copy/ title=创建一个简单的module class=md-nav__link> 创建一个简单的module </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/huawei-switch/ title="module 示例: 连接华为交换机" class=md-nav__link> module 示例: 连接华为交换机 </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/module-outher-dev/ title="module 示例: 其他语言开发" class=md-nav__link> module 示例: 其他语言开发 </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/module-shell-dir/ title="module 示例: dir" class=md-nav__link> module 示例: dir </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/module-docker-facts/ title="module 示例: docker_facts" class=md-nav__link> module 示例: docker_facts </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/module-wechat/ title="module 示例: wechat" class=md-nav__link> module 示例: wechat </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/module-return/ title="module 的返回值" class=md-nav__link> module 的返回值 </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/module-doc/ title="module 的帮助文档" class=md-nav__link> module 的帮助文档 </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/module-architecture/ title="module 架构" class=md-nav__link> module 架构 </a> </li> <li class=md-nav__item> <a href=../../../dev/modules/module-utilities/ title="module 工具类" class=md-nav__link> module 工具类 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-6 type=checkbox id=nav-6-6> <label class=md-nav__link for=nav-6-6> Plugin 开发 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Plugin 开发" data-md-level=2> <label class=md-nav__title for=nav-6-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Plugin 开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dev/plugins/ title="Plugin 开发说明" class=md-nav__link> Plugin 开发说明 </a> </li> <li class=md-nav__item> <a href=../../../dev/plugins/Action-hello/ title="Action 示例: hello" class=md-nav__link> Action 示例: hello </a> </li> <li class=md-nav__item> <a href=../../../dev/plugins/Callback-BlackHole/ title="Callback 示例: BlackHole" class=md-nav__link> Callback 示例: BlackHole </a> </li> <li class=md-nav__item> <a href=../../../dev/plugins/Filter-split/ title="Filter 示例: split" class=md-nav__link> Filter 示例: split </a> </li> <li class=md-nav__item> <a href=../../../dev/plugins/Inventory-csv/ title="Inventory 示例: csv" class=md-nav__link> Inventory 示例: csv </a> </li> <li class=md-nav__item> <a href=../../../dev/plugins/Lookup-github-status/ title="Lookup 示例: github_status" class=md-nav__link> Lookup 示例: github_status </a> </li> <li class=md-nav__item> <a href=../../../dev/plugins/Vars-csv-vars/ title="Vars 示例: csv_vars" class=md-nav__link> Vars 示例: csv_vars </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-7 type=checkbox id=nav-6-7> <label class=md-nav__link for=nav-6-7> API 使用 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="API 使用" data-md-level=2> <label class=md-nav__title for=nav-6-7> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> API 使用 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dev/api/ title="API 使用说明" class=md-nav__link> API 使用说明 </a> </li> <li class=md-nav__item> <a href=../../../dev/api/api-task/ title="使用 API 运行任务" class=md-nav__link> 使用 API 运行任务 </a> </li> <li class=md-nav__item> <a href=../../../dev/api/api-playbook/ title="使用 API 运行 Palybook" class=md-nav__link> 使用 API 运行 Palybook </a> </li> <li class=md-nav__item> <a href=../../../dev/api/api-suitable/ title="使用 suitable" class=md-nav__link> 使用 suitable </a> </li> <li class=md-nav__item> <a href=../../../dev/api/api-ansible-runner/ title="使用 ansible runner" class=md-nav__link> 使用 ansible runner </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Ansible UI <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Ansible UI" data-md-level=1> <label class=md-nav__title for=nav-7> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ansible UI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ui/ title="Ansible UI 说明" class=md-nav__link> Ansible UI 说明 </a> </li> <li class=md-nav__item> <a href=../../../ui/awx/ title="Ansible Awx" class=md-nav__link> Ansible Awx </a> </li> <li class=md-nav__item> <a href=../../../ui/tower/ title="Ansible Tower" class=md-nav__link> Ansible Tower </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Ansible 认证 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Ansible 认证" data-md-level=1> <label class=md-nav__title for=nav-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ansible 认证 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../certification/ title="Ansible 认证说明" class=md-nav__link> Ansible 认证说明 </a> </li> <li class=md-nav__item> <a href=../../../certification/ex407-example/ title="EX407 示例试题" class=md-nav__link> EX407 示例试题 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> Ansible Roles <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Ansible Roles" data-md-level=1> <label class=md-nav__title for=nav-9> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ansible Roles </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/ title="Ansible roles 怎么用？" class=md-nav__link> Ansible roles 怎么用？ </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-2 type=checkbox id=nav-9-2> <label class=md-nav__link for=nav-9-2> 认证 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=认证 data-md-level=2> <label class=md-nav__title for=nav-9-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 认证 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/auth/kerberos-client/ title=kerberos-client class=md-nav__link> kerberos-client </a> </li> <li class=md-nav__item> <a href=../../../roles/auth/kerberos-server/ title=kerberos-server class=md-nav__link> kerberos-server </a> </li> <li class=md-nav__item> <a href=../../../roles/auth/openldap/ title=openldap class=md-nav__link> openldap </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-3 type=checkbox id=nav-9-3> <label class=md-nav__link for=nav-9-3> 系统环境 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=系统环境 data-md-level=2> <label class=md-nav__title for=nav-9-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 系统环境 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/env/ant/ title=ant class=md-nav__link> ant </a> </li> <li class=md-nav__item> <a href=../../../roles/env/erlang/ title=erlang class=md-nav__link> erlang </a> </li> <li class=md-nav__item> <a href=../../../roles/env/go/ title=go class=md-nav__link> go </a> </li> <li class=md-nav__item> <a href=../../../roles/env/hostnames/ title=hostnames class=md-nav__link> hostnames </a> </li> <li class=md-nav__item> <a href=../../../roles/env/java/ title=java class=md-nav__link> java </a> </li> <li class=md-nav__item> <a href=../../../roles/env/lua/ title=lua class=md-nav__link> lua </a> </li> <li class=md-nav__item> <a href=../../../roles/env/mvn/ title=mvn class=md-nav__link> mvn </a> </li> <li class=md-nav__item> <a href=../../../roles/env/nodejs/ title=nodejs class=md-nav__link> nodejs </a> </li> <li class=md-nav__item> <a href=../../../roles/env/openssh/ title=openssh class=md-nav__link> openssh </a> </li> <li class=md-nav__item> <a href=../../../roles/env/openssl/ title=openssl class=md-nav__link> openssl </a> </li> <li class=md-nav__item> <a href=../../../roles/env/os-init/ title=os-init class=md-nav__link> os-init </a> </li> <li class=md-nav__item> <a href=../../../roles/env/php/ title=php class=md-nav__link> php </a> </li> <li class=md-nav__item> <a href=../../../roles/env/python2.7/ title=python2.7 class=md-nav__link> python2.7 </a> </li> <li class=md-nav__item> <a href=../../../roles/env/repo-epel/ title=repo-epel class=md-nav__link> repo-epel </a> </li> <li class=md-nav__item> <a href=../../../roles/env/ruby/ title=ruby class=md-nav__link> ruby </a> </li> <li class=md-nav__item> <a href=../../../roles/env/sbt/ title=sbt class=md-nav__link> sbt </a> </li> <li class=md-nav__item> <a href=../../../roles/env/ssh-2fa/ title=ssh-2fa class=md-nav__link> ssh-2fa </a> </li> <li class=md-nav__item> <a href=../../../roles/env/ssh-keys/ title=ssh-keys class=md-nav__link> ssh-keys </a> </li> <li class=md-nav__item> <a href=../../../roles/env/update-kernel/ title=update-kernel class=md-nav__link> update-kernel </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-4 type=checkbox id=nav-9-4> <label class=md-nav__link for=nav-9-4> WEB <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=WEB data-md-level=2> <label class=md-nav__title for=nav-9-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> WEB </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/web/nginx/ title=nginx class=md-nav__link> nginx </a> </li> <li class=md-nav__item> <a href=../../../roles/web/openresty/ title=openresty class=md-nav__link> openresty </a> </li> <li class=md-nav__item> <a href=../../../roles/web/tengine/ title=tengine class=md-nav__link> tengine </a> </li> <li class=md-nav__item> <a href=../../../roles/web/tomcat/ title=tomcat class=md-nav__link> tomcat </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-5 type=checkbox id=nav-9-5> <label class=md-nav__link for=nav-9-5> 数据库 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=数据库 data-md-level=2> <label class=md-nav__title for=nav-9-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 数据库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/database/memcached/ title=memcached class=md-nav__link> memcached </a> </li> <li class=md-nav__item> <a href=../../../roles/database/mongodb/ title=mongodb class=md-nav__link> mongodb </a> </li> <li class=md-nav__item> <a href=../../../roles/database/mycat/ title=mycat class=md-nav__link> mycat </a> </li> <li class=md-nav__item> <a href=../../../roles/database/mysql/ title=mysql class=md-nav__link> mysql </a> </li> <li class=md-nav__item> <a href=../../../roles/database/mysql57/ title=mysql57 class=md-nav__link> mysql57 </a> </li> <li class=md-nav__item> <a href=../../../roles/database/redis/ title=redis class=md-nav__link> redis </a> </li> <li class=md-nav__item> <a href=../../../roles/database/redis5/ title=redis5 class=md-nav__link> redis5 </a> </li> <li class=md-nav__item> <a href=../../../roles/database/codis/ title=codis class=md-nav__link> codis </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-6 type=checkbox id=nav-9-6> <label class=md-nav__link for=nav-9-6> 键值存储 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=键值存储 data-md-level=2> <label class=md-nav__title for=nav-9-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 键值存储 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/kv/consul/ title=consul class=md-nav__link> consul </a> </li> <li class=md-nav__item> <a href=../../../roles/kv/etcd/ title=etcd class=md-nav__link> etcd </a> </li> <li class=md-nav__item> <a href=../../../roles/kv/zookeeper/ title=zookeeper class=md-nav__link> zookeeper </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-7 type=checkbox id=nav-9-7> <label class=md-nav__link for=nav-9-7> 大数据 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=大数据 data-md-level=2> <label class=md-nav__title for=nav-9-7> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 大数据 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/bigdata/airflow/ title=airflow class=md-nav__link> airflow </a> </li> <li class=md-nav__item> <a href=../../../roles/bigdata/cdh5-agent/ title=cdh5-agent class=md-nav__link> cdh5-agent </a> </li> <li class=md-nav__item> <a href=../../../roles/bigdata/cdh5-pre/ title=cdh5-pre class=md-nav__link> cdh5-pre </a> </li> <li class=md-nav__item> <a href=../../../roles/bigdata/cdh5-server/ title=cdh5-server class=md-nav__link> cdh5-server </a> </li> <li class=md-nav__item> <a href=../../../roles/bigdata/hadoop-standalone/ title=hadoop-standalone class=md-nav__link> hadoop-standalone </a> </li> <li class=md-nav__item> <a href=../../../roles/bigdata/superset/ title=superset class=md-nav__link> superset </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-8 type=checkbox id=nav-9-8> <label class=md-nav__link for=nav-9-8> 消息系统 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=消息系统 data-md-level=2> <label class=md-nav__title for=nav-9-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 消息系统 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/mq/kafka/ title=kafka class=md-nav__link> kafka </a> </li> <li class=md-nav__item> <a href=../../../roles/mq/kafka-manager/ title=kafka-manager class=md-nav__link> kafka-manager </a> </li> <li class=md-nav__item> <a href=../../../roles/mq/rabbitmq/ title=rabbitmq class=md-nav__link> rabbitmq </a> </li> <li class=md-nav__item> <a href=../../../roles/mq/rocketmq/ title=rocketmq class=md-nav__link> rocketmq </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-9 type=checkbox id=nav-9-9> <label class=md-nav__link for=nav-9-9> 持续集成/交付 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=持续集成/交付 data-md-level=2> <label class=md-nav__title for=nav-9-9> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 持续集成/交付 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/ci/deploy-image/ title=deploy-image class=md-nav__link> deploy-image </a> </li> <li class=md-nav__item> <a href=../../../roles/ci/deploy-static/ title=deploy-static class=md-nav__link> deploy-static </a> </li> <li class=md-nav__item> <a href=../../../roles/ci/deploy-supervisor/ title=deploy-supervisor class=md-nav__link> deploy-supervisor </a> </li> <li class=md-nav__item> <a href=../../../roles/ci/deploy-tomcat/ title=deploy-tomcat class=md-nav__link> deploy-tomcat </a> </li> <li class=md-nav__item> <a href=../../../roles/ci/jenkins/ title=jenkins class=md-nav__link> jenkins </a> </li> <li class=md-nav__item> <a href=../../../roles/ci/nexus/ title=nexus class=md-nav__link> nexus </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-10 type=checkbox id=nav-9-10> <label class=md-nav__link for=nav-9-10> 高可用 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=高可用 data-md-level=2> <label class=md-nav__title for=nav-9-10> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 高可用 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/ha/keepalived/ title=keepalived class=md-nav__link> keepalived </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-11 type=checkbox id=nav-9-11> <label class=md-nav__link for=nav-9-11> 代理 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=代理 data-md-level=2> <label class=md-nav__title for=nav-9-11> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 代理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/proxy/haproxy/ title=haproxy class=md-nav__link> haproxy </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-12 type=checkbox id=nav-9-12> <label class=md-nav__link for=nav-9-12> 监控 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=监控 data-md-level=2> <label class=md-nav__title for=nav-9-12> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 监控 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/monitor/grafana/ title=grafana class=md-nav__link> grafana </a> </li> <li class=md-nav__item> <a href=../../../roles/monitor/zabbix-agent/ title=zabbix-agent class=md-nav__link> zabbix-agent </a> </li> <li class=md-nav__item> <a href=../../../roles/monitor/zabbix-server/ title=zabbix-server class=md-nav__link> zabbix-server </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-13 type=checkbox id=nav-9-13> <label class=md-nav__link for=nav-9-13> 日志分析 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=日志分析 data-md-level=2> <label class=md-nav__title for=nav-9-13> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 日志分析 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/log/elasticsearch/ title=elasticsearch class=md-nav__link> elasticsearch </a> </li> <li class=md-nav__item> <a href=../../../roles/log/filebeat/ title=filebeat class=md-nav__link> filebeat </a> </li> <li class=md-nav__item> <a href=../../../roles/log/grokdebug/ title=grokdebug class=md-nav__link> grokdebug </a> </li> <li class=md-nav__item> <a href=../../../roles/log/kibana/ title=kibana class=md-nav__link> kibana </a> </li> <li class=md-nav__item> <a href=../../../roles/log/logstash/ title=logstash class=md-nav__link> logstash </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-14 type=checkbox id=nav-9-14> <label class=md-nav__link for=nav-9-14> 存储 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=存储 data-md-level=2> <label class=md-nav__title for=nav-9-14> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 存储 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/storage/gluster/ title=gluster class=md-nav__link> gluster </a> </li> <li class=md-nav__item> <a href=../../../roles/storage/nfs/ title=nfs class=md-nav__link> nfs </a> </li> <li class=md-nav__item> <a href=../../../roles/storage/samba/ title=samba class=md-nav__link> samba </a> </li> <li class=md-nav__item> <a href=../../../roles/storage/vsftpd/ title=vsftpd class=md-nav__link> vsftpd </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-15 type=checkbox id=nav-9-15> <label class=md-nav__link for=nav-9-15> 容器 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=容器 data-md-level=2> <label class=md-nav__title for=nav-9-15> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 容器 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/container/docker-compose/ title=docker-compose class=md-nav__link> docker-compose </a> </li> <li class=md-nav__item> <a href=../../../roles/container/docker-swarm/ title=docker-swarm class=md-nav__link> docker-swarm </a> </li> <li class=md-nav__item> <a href=../../../roles/container/docker/ title=docker class=md-nav__link> docker </a> </li> <li class=md-nav__item> <a href=../../../roles/container/harbor/ title=harbor class=md-nav__link> harbor </a> </li> <li class=md-nav__item> <a href=../../../roles/container/kubernetes-bin/ title=kubernetes-bin class=md-nav__link> kubernetes-bin </a> </li> <li class=md-nav__item> <a href=../../../roles/container/kubernetes/ title=kubernetes class=md-nav__link> kubernetes </a> </li> <li class=md-nav__item> <a href=../../../roles/container/shipyard/ title=shipyard class=md-nav__link> shipyard </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-16 type=checkbox id=nav-9-16> <label class=md-nav__link for=nav-9-16> 数据同步 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=数据同步 data-md-level=2> <label class=md-nav__title for=nav-9-16> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 数据同步 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/sync/rsync/ title=rsync class=md-nav__link> rsync </a> </li> <li class=md-nav__item> <a href=../../../roles/sync/sersync/ title=sersync class=md-nav__link> sersync </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-17 type=checkbox id=nav-9-17> <label class=md-nav__link for=nav-9-17> 其他 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=其他 data-md-level=2> <label class=md-nav__title for=nav-9-17> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 其他 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roles/other/chrony/ title=chrony class=md-nav__link> chrony </a> </li> <li class=md-nav__item> <a href=../../../roles/other/confd/ title=confd class=md-nav__link> confd </a> </li> <li class=md-nav__item> <a href=../../../roles/other/iptables/ title=iptables class=md-nav__link> iptables </a> </li> <li class=md-nav__item> <a href=../../../roles/other/ntp/ title=ntp class=md-nav__link> ntp </a> </li> <li class=md-nav__item> <a href=../../../roles/other/os-check/ title=os-check class=md-nav__link> os-check </a> </li> <li class=md-nav__item> <a href=../../../roles/other/supervisor/ title=supervisor class=md-nav__link> supervisor </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 目录 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 配置文件 </a> <nav class=md-nav aria-label=配置文件> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 获取默认配置 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 默认配置文件 </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 常用设置 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ansible-config class=md-nav__link> ansible-config </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 配置的优先级 </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 配置项 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/leops-china/ansible-wiki/edit/master/docs/basic/Reference/Config.md title=编辑此页 class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=ansible>Ansible 配置<a class=headerlink href=#ansible title="Permanent link">&para;</a></h1> <p><strong>Ansible</strong> 支持几个源来配置它的行为，包括一个名为<code>ansible.cfg</code>的ini文件、环境变量、命令行选项、playbook关键字和变量。</p> <h2 id=_1>配置文件<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <p><strong>Ansible</strong> 配置文件可以存放在不同的位置，但只有一个可用。在下列列表中，ansible从上往下依次检查，检查到哪个可用就用哪个。</p> <ul> <li><code>ANSIBLE_CONFIG</code> 环境变量，可以定义配置文件的位置</li> <li><code>./ansible.cfg</code> 存在于当前工作目录</li> <li><code>~/.ansible.cfg</code> 存在与当前用户家目录</li> <li><code>/etc/ansible/ansible.cfg</code></li> </ul> <h3 id=_2>获取默认配置<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>使用源码或者pip方式安装时，需要另行定义配置文件，可以在ansible仓库中获取最新的配置文件</p> <p><a href=https://raw.github.com/ansible/ansible/devel/examples/ansible.cfg>https://raw.github.com/ansible/ansible/devel/examples/ansible.cfg</a></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>配置文件是INI格式的一种变体。当注释开始行时，散列符号（#）和分号（;）都被允许作为注释标记。</p> </div> <h3 id=_3>默认配置文件<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <blockquote> <p>下列是centos7系统上的ansible 2.9.6版本配置</p> </blockquote> <div class=highlight><pre><span></span><code><span class=c1># config file for ansible -- https://ansible.com/</span>
<span class=c1># ===============================================</span>

<span class=c1># nearly all parameters can be overridden in ansible-playbook</span>
<span class=c1># or with command line flags. ansible will read ANSIBLE_CONFIG,</span>
<span class=c1># ansible.cfg in the current working directory, .ansible.cfg in</span>
<span class=c1># the home directory or /etc/ansible/ansible.cfg, whichever it</span>
<span class=c1># finds first</span>

<span class=k>[defaults]</span>

<span class=c1># some basic default values...</span>

<span class=c1>#inventory      = /etc/ansible/hosts</span>
<span class=c1>#library        = /usr/share/my_modules/</span>
<span class=c1>#module_utils   = /usr/share/my_module_utils/</span>
<span class=c1>#remote_tmp     = ~/.ansible/tmp</span>
<span class=c1>#local_tmp      = ~/.ansible/tmp</span>
<span class=c1>#plugin_filters_cfg = /etc/ansible/plugin_filters.yml</span>
<span class=c1>#forks          = 5</span>
<span class=c1>#poll_interval  = 15</span>
<span class=c1>#sudo_user      = root</span>
<span class=c1>#ask_sudo_pass = True</span>
<span class=c1>#ask_pass      = True</span>
<span class=c1>#transport      = smart</span>
<span class=c1>#remote_port    = 22</span>
<span class=c1>#module_lang    = C</span>
<span class=c1>#module_set_locale = False</span>

<span class=c1># plays will gather facts by default, which contain information about</span>
<span class=c1># the remote system.</span>
<span class=c1>#</span>
<span class=c1># smart - gather by default, but don&#39;t regather if already gathered</span>
<span class=c1># implicit - gather by default, turn off with gather_facts: False</span>
<span class=c1># explicit - do not gather by default, must say gather_facts: True</span>
<span class=c1>#gathering = implicit</span>

<span class=c1># This only affects the gathering done by a play&#39;s gather_facts directive,</span>
<span class=c1># by default gathering retrieves all facts subsets</span>
<span class=c1># all - gather all subsets</span>
<span class=c1># network - gather min and network facts</span>
<span class=c1># hardware - gather hardware facts (longest facts to retrieve)</span>
<span class=c1># virtual - gather min and virtual facts</span>
<span class=c1># facter - import facts from facter</span>
<span class=c1># ohai - import facts from ohai</span>
<span class=c1># You can combine them using comma (ex: network,virtual)</span>
<span class=c1># You can negate them using ! (ex: !hardware,!facter,!ohai)</span>
<span class=c1># A minimal set of facts is always gathered.</span>
<span class=c1>#gather_subset = all</span>

<span class=c1># some hardware related facts are collected</span>
<span class=c1># with a maximum timeout of 10 seconds. This</span>
<span class=c1># option lets you increase or decrease that</span>
<span class=c1># timeout to something more suitable for the</span>
<span class=c1># environment.</span>
<span class=c1># gather_timeout = 10</span>

<span class=c1># Ansible facts are available inside the ansible_facts.* dictionary</span>
<span class=c1># namespace. This setting maintains the behaviour which was the default prior</span>
<span class=c1># to 2.5, duplicating these variables into the main namespace, each with a</span>
<span class=c1># prefix of &#39;ansible_&#39;.</span>
<span class=c1># This variable is set to True by default for backwards compatibility. It</span>
<span class=c1># will be changed to a default of &#39;False&#39; in a future release.</span>
<span class=c1># ansible_facts.</span>
<span class=c1># inject_facts_as_vars = True</span>

<span class=c1># additional paths to search for roles in, colon separated</span>
<span class=c1>#roles_path    = /etc/ansible/roles</span>

<span class=c1># uncomment this to disable SSH key host checking</span>
<span class=c1>#host_key_checking = False</span>

<span class=c1># change the default callback, you can only have one &#39;stdout&#39; type  enabled at a time.</span>
<span class=c1>#stdout_callback = skippy</span>


<span class=c1>## Ansible ships with some plugins that require whitelisting,</span>
<span class=c1>## this is done to avoid running all of a type by default.</span>
<span class=c1>## These setting lists those that you want enabled for your system.</span>
<span class=c1>## Custom plugins should not need this unless plugin author specifies it.</span>

<span class=c1># enable callback plugins, they can output to stdout but cannot be &#39;stdout&#39; type.</span>
<span class=c1>#callback_whitelist = timer, mail</span>

<span class=c1># Determine whether includes in tasks and handlers are &quot;static&quot; by</span>
<span class=c1># default. As of 2.0, includes are dynamic by default. Setting these</span>
<span class=c1># values to True will make includes behave more like they did in the</span>
<span class=c1># 1.x versions.</span>
<span class=c1>#task_includes_static = False</span>
<span class=c1>#handler_includes_static = False</span>

<span class=c1># Controls if a missing handler for a notification event is an error or a warning</span>
<span class=c1>#error_on_missing_handler = True</span>

<span class=c1># change this for alternative sudo implementations</span>
<span class=c1>#sudo_exe = sudo</span>

<span class=c1># What flags to pass to sudo</span>
<span class=c1># WARNING: leaving out the defaults might create unexpected behaviours</span>
<span class=c1>#sudo_flags = -H -S -n</span>

<span class=c1># SSH timeout</span>
<span class=c1>#timeout = 10</span>

<span class=c1># default user to use for playbooks if user is not specified</span>
<span class=c1># (/usr/bin/ansible will use current user as default)</span>
<span class=c1>#remote_user = root</span>

<span class=c1># logging is off by default unless this path is defined</span>
<span class=c1># if so defined, consider logrotate</span>
<span class=c1>#log_path = /var/log/ansible.log</span>

<span class=c1># default module name for /usr/bin/ansible</span>
<span class=c1>#module_name = command</span>

<span class=c1># use this shell for commands executed under sudo</span>
<span class=c1># you may need to change this to bin/bash in rare instances</span>
<span class=c1># if sudo is constrained</span>
<span class=c1>#executable = /bin/sh</span>

<span class=c1># if inventory variables overlap, does the higher precedence one win</span>
<span class=c1># or are hash values merged together?  The default is &#39;replace&#39; but</span>
<span class=c1># this can also be set to &#39;merge&#39;.</span>
<span class=c1>#hash_behaviour = replace</span>

<span class=c1># by default, variables from roles will be visible in the global variable</span>
<span class=c1># scope. To prevent this, the following option can be enabled, and only</span>
<span class=c1># tasks and handlers within the role will see the variables there</span>
<span class=c1>#private_role_vars = yes</span>

<span class=c1># list any Jinja2 extensions to enable here:</span>
<span class=c1>#jinja2_extensions = jinja2.ext.do,jinja2.ext.i18n</span>

<span class=c1># if set, always use this private key file for authentication, same as</span>
<span class=c1># if passing --private-key to ansible or ansible-playbook</span>
<span class=c1>#private_key_file = /path/to/file</span>

<span class=c1># If set, configures the path to the Vault password file as an alternative to</span>
<span class=c1># specifying --vault-password-file on the command line.</span>
<span class=c1>#vault_password_file = /path/to/vault_password_file</span>

<span class=c1># format of string {{ ansible_managed }} available within Jinja2</span>
<span class=c1># templates indicates to users editing templates files will be replaced.</span>
<span class=c1># replacing {file}, {host} and {uid} and strftime codes with proper values.</span>
<span class=c1>#ansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}</span>
<span class=c1># {file}, {host}, {uid}, and the timestamp can all interfere with idempotence</span>
<span class=c1># in some situations so the default is a static string:</span>
<span class=c1>#ansible_managed = Ansible managed</span>

<span class=c1># by default, ansible-playbook will display &quot;Skipping [host]&quot; if it determines a task</span>
<span class=c1># should not be run on a host.  Set this to &quot;False&quot; if you don&#39;t want to see these &quot;Skipping&quot;</span>
<span class=c1># messages. NOTE: the task header will still be shown regardless of whether or not the</span>
<span class=c1># task is skipped.</span>
<span class=c1>#display_skipped_hosts = True</span>

<span class=c1># by default, if a task in a playbook does not include a name: field then</span>
<span class=c1># ansible-playbook will construct a header that includes the task&#39;s action but</span>
<span class=c1># not the task&#39;s args.  This is a security feature because ansible cannot know</span>
<span class=c1># if the *module* considers an argument to be no_log at the time that the</span>
<span class=c1># header is printed.  If your environment doesn&#39;t have a problem securing</span>
<span class=c1># stdout from ansible-playbook (or you have manually specified no_log in your</span>
<span class=c1># playbook on all of the tasks where you have secret information) then you can</span>
<span class=c1># safely set this to True to get more informative messages.</span>
<span class=c1>#display_args_to_stdout = False</span>

<span class=c1># by default (as of 1.3), Ansible will raise errors when attempting to dereference</span>
<span class=c1># Jinja2 variables that are not set in templates or action lines. Uncomment this line</span>
<span class=c1># to revert the behavior to pre-1.3.</span>
<span class=c1>#error_on_undefined_vars = False</span>

<span class=c1># by default (as of 1.6), Ansible may display warnings based on the configuration of the</span>
<span class=c1># system running ansible itself. This may include warnings about 3rd party packages or</span>
<span class=c1># other conditions that should be resolved if possible.</span>
<span class=c1># to disable these warnings, set the following value to False:</span>
<span class=c1>#system_warnings = True</span>

<span class=c1># by default (as of 1.4), Ansible may display deprecation warnings for language</span>
<span class=c1># features that should no longer be used and will be removed in future versions.</span>
<span class=c1># to disable these warnings, set the following value to False:</span>
<span class=c1>#deprecation_warnings = True</span>

<span class=c1># (as of 1.8), Ansible can optionally warn when usage of the shell and</span>
<span class=c1># command module appear to be simplified by using a default Ansible module</span>
<span class=c1># instead.  These warnings can be silenced by adjusting the following</span>
<span class=c1># setting or adding warn=yes or warn=no to the end of the command line</span>
<span class=c1># parameter string.  This will for example suggest using the git module</span>
<span class=c1># instead of shelling out to the git command.</span>
<span class=c1># command_warnings = False</span>


<span class=c1># set plugin path directories here, separate with colons</span>
<span class=c1>#action_plugins     = /usr/share/ansible/plugins/action</span>
<span class=c1>#become_plugins     = /usr/share/ansible/plugins/become</span>
<span class=c1>#cache_plugins      = /usr/share/ansible/plugins/cache</span>
<span class=c1>#callback_plugins   = /usr/share/ansible/plugins/callback</span>
<span class=c1>#connection_plugins = /usr/share/ansible/plugins/connection</span>
<span class=c1>#lookup_plugins     = /usr/share/ansible/plugins/lookup</span>
<span class=c1>#inventory_plugins  = /usr/share/ansible/plugins/inventory</span>
<span class=c1>#vars_plugins       = /usr/share/ansible/plugins/vars</span>
<span class=c1>#filter_plugins     = /usr/share/ansible/plugins/filter</span>
<span class=c1>#test_plugins       = /usr/share/ansible/plugins/test</span>
<span class=c1>#terminal_plugins   = /usr/share/ansible/plugins/terminal</span>
<span class=c1>#strategy_plugins   = /usr/share/ansible/plugins/strategy</span>


<span class=c1># by default, ansible will use the &#39;linear&#39; strategy but you may want to try</span>
<span class=c1># another one</span>
<span class=c1>#strategy = free</span>

<span class=c1># by default callbacks are not loaded for /bin/ansible, enable this if you</span>
<span class=c1># want, for example, a notification or logging callback to also apply to</span>
<span class=c1># /bin/ansible runs</span>
<span class=c1>#bin_ansible_callbacks = False</span>


<span class=c1># don&#39;t like cows?  that&#39;s unfortunate.</span>
<span class=c1># set to 1 if you don&#39;t want cowsay support or export ANSIBLE_NOCOWS=1</span>
<span class=c1>#nocows = 1</span>

<span class=c1># set which cowsay stencil you&#39;d like to use by default. When set to &#39;random&#39;,</span>
<span class=c1># a random stencil will be selected for each task. The selection will be filtered</span>
<span class=c1># against the `cow_whitelist` option below.</span>
<span class=c1>#cow_selection = default</span>
<span class=c1>#cow_selection = random</span>

<span class=c1># when using the &#39;random&#39; option for cowsay, stencils will be restricted to this list.</span>
<span class=c1># it should be formatted as a comma-separated list with no spaces between names.</span>
<span class=c1># NOTE: line continuations here are for formatting purposes only, as the INI parser</span>
<span class=c1>#       in python does not support them.</span>
<span class=c1>#cow_whitelist=bud-frogs,bunny,cheese,daemon,default,dragon,elephant-in-snake,elephant,eyes,\</span>
<span class=c1>#              hellokitty,kitty,luke-koala,meow,milk,moofasa,moose,ren,sheep,small,stegosaurus,\</span>
<span class=c1>#              stimpy,supermilker,three-eyes,turkey,turtle,tux,udder,vader-koala,vader,www</span>

<span class=c1># don&#39;t like colors either?</span>
<span class=c1># set to 1 if you don&#39;t want colors, or export ANSIBLE_NOCOLOR=1</span>
<span class=c1>#nocolor = 1</span>

<span class=c1># if set to a persistent type (not &#39;memory&#39;, for example &#39;redis&#39;) fact values</span>
<span class=c1># from previous runs in Ansible will be stored.  This may be useful when</span>
<span class=c1># wanting to use, for example, IP information from one group of servers</span>
<span class=c1># without having to talk to them in the same playbook run to get their</span>
<span class=c1># current IP information.</span>
<span class=c1>#fact_caching = memory</span>

<span class=c1>#This option tells Ansible where to cache facts. The value is plugin dependent.</span>
<span class=c1>#For the jsonfile plugin, it should be a path to a local directory.</span>
<span class=c1>#For the redis plugin, the value is a host:port:database triplet: fact_caching_connection = localhost:6379:0</span>

<span class=c1>#fact_caching_connection=/tmp</span>



<span class=c1># retry files</span>
<span class=c1># When a playbook fails a .retry file can be created that will be placed in ~/</span>
<span class=c1># You can enable this feature by setting retry_files_enabled to True</span>
<span class=c1># and you can change the location of the files by setting retry_files_save_path</span>

<span class=c1>#retry_files_enabled = False</span>
<span class=c1>#retry_files_save_path = ~/.ansible-retry</span>

<span class=c1># squash actions</span>
<span class=c1># Ansible can optimise actions that call modules with list parameters</span>
<span class=c1># when looping. Instead of calling the module once per with_ item, the</span>
<span class=c1># module is called once with all items at once. Currently this only works</span>
<span class=c1># under limited circumstances, and only with parameters named &#39;name&#39;.</span>
<span class=c1>#squash_actions = apk,apt,dnf,homebrew,pacman,pkgng,yum,zypper</span>

<span class=c1># prevents logging of task data, off by default</span>
<span class=c1>#no_log = False</span>

<span class=c1># prevents logging of tasks, but only on the targets, data is still logged on the master/controller</span>
<span class=c1>#no_target_syslog = False</span>

<span class=c1># controls whether Ansible will raise an error or warning if a task has no</span>
<span class=c1># choice but to create world readable temporary files to execute a module on</span>
<span class=c1># the remote machine.  This option is False by default for security.  Users may</span>
<span class=c1># turn this on to have behaviour more like Ansible prior to 2.1.x.  See</span>
<span class=c1># https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user</span>
<span class=c1># for more secure ways to fix this than enabling this option.</span>
<span class=c1>#allow_world_readable_tmpfiles = False</span>

<span class=c1># controls the compression level of variables sent to</span>
<span class=c1># worker processes. At the default of 0, no compression</span>
<span class=c1># is used. This value must be an integer from 0 to 9.</span>
<span class=c1>#var_compression_level = 9</span>

<span class=c1># controls what compression method is used for new-style ansible modules when</span>
<span class=c1># they are sent to the remote system.  The compression types depend on having</span>
<span class=c1># support compiled into both the controller&#39;s python and the client&#39;s python.</span>
<span class=c1># The names should match with the python Zipfile compression types:</span>
<span class=c1># * ZIP_STORED (no compression. available everywhere)</span>
<span class=c1># * ZIP_DEFLATED (uses zlib, the default)</span>
<span class=c1># These values may be set per host via the ansible_module_compression inventory</span>
<span class=c1># variable</span>
<span class=c1>#module_compression = &#39;ZIP_DEFLATED&#39;</span>

<span class=c1># This controls the cutoff point (in bytes) on --diff for files</span>
<span class=c1># set to 0 for unlimited (RAM may suffer!).</span>
<span class=c1>#max_diff_size = 1048576</span>

<span class=c1># This controls how ansible handles multiple --tags and --skip-tags arguments</span>
<span class=c1># on the CLI.  If this is True then multiple arguments are merged together.  If</span>
<span class=c1># it is False, then the last specified argument is used and the others are ignored.</span>
<span class=c1># This option will be removed in 2.8.</span>
<span class=c1>#merge_multiple_cli_flags = True</span>

<span class=c1># Controls showing custom stats at the end, off by default</span>
<span class=c1>#show_custom_stats = True</span>

<span class=c1># Controls which files to ignore when using a directory as inventory with</span>
<span class=c1># possibly multiple sources (both static and dynamic)</span>
<span class=c1>#inventory_ignore_extensions = ~, .orig, .bak, .ini, .cfg, .retry, .pyc, .pyo</span>

<span class=c1># This family of modules use an alternative execution path optimized for network appliances</span>
<span class=c1># only update this setting if you know how this works, otherwise it can break module execution</span>
<span class=c1>#network_group_modules=eos, nxos, ios, iosxr, junos, vyos</span>

<span class=c1># When enabled, this option allows lookups (via variables like {{lookup(&#39;foo&#39;)}} or when used as</span>
<span class=c1># a loop with `with_foo`) to return data that is not marked &quot;unsafe&quot;. This means the data may contain</span>
<span class=c1># jinja2 templating language which will be run through the templating engine.</span>
<span class=c1># ENABLING THIS COULD BE A SECURITY RISK</span>
<span class=c1>#allow_unsafe_lookups = False</span>

<span class=c1># set default errors for all plays</span>
<span class=c1>#any_errors_fatal = False</span>

<span class=k>[inventory]</span>
<span class=c1># enable inventory plugins, default: &#39;host_list&#39;, &#39;script&#39;, &#39;auto&#39;, &#39;yaml&#39;, &#39;ini&#39;, &#39;toml&#39;</span>
<span class=c1>#enable_plugins = host_list, virtualbox, yaml, constructed</span>

<span class=c1># ignore these extensions when parsing a directory as inventory source</span>
<span class=c1>#ignore_extensions = .pyc, .pyo, .swp, .bak, ~, .rpm, .md, .txt, ~, .orig, .ini, .cfg, .retry</span>

<span class=c1># ignore files matching these patterns when parsing a directory as inventory source</span>
<span class=c1>#ignore_patterns=</span>

<span class=c1># If &#39;true&#39; unparsed inventory sources become fatal errors, they are warnings otherwise.</span>
<span class=c1>#unparsed_is_failed=False</span>

<span class=k>[privilege_escalation]</span>
<span class=c1>#become=True</span>
<span class=c1>#become_method=sudo</span>
<span class=c1>#become_user=root</span>
<span class=c1>#become_ask_pass=False</span>

<span class=k>[paramiko_connection]</span>

<span class=c1># uncomment this line to cause the paramiko connection plugin to not record new host</span>
<span class=c1># keys encountered.  Increases performance on new host additions.  Setting works independently of the</span>
<span class=c1># host key checking setting above.</span>
<span class=c1>#record_host_keys=False</span>

<span class=c1># by default, Ansible requests a pseudo-terminal for commands executed under sudo. Uncomment this</span>
<span class=c1># line to disable this behaviour.</span>
<span class=c1>#pty=False</span>

<span class=c1># paramiko will default to looking for SSH keys initially when trying to</span>
<span class=c1># authenticate to remote devices.  This is a problem for some network devices</span>
<span class=c1># that close the connection after a key failure.  Uncomment this line to</span>
<span class=c1># disable the Paramiko look for keys function</span>
<span class=c1>#look_for_keys = False</span>

<span class=c1># When using persistent connections with Paramiko, the connection runs in a</span>
<span class=c1># background process.  If the host doesn&#39;t already have a valid SSH key, by</span>
<span class=c1># default Ansible will prompt to add the host key.  This will cause connections</span>
<span class=c1># running in background processes to fail.  Uncomment this line to have</span>
<span class=c1># Paramiko automatically add host keys.</span>
<span class=c1>#host_key_auto_add = True</span>

<span class=k>[ssh_connection]</span>

<span class=c1># ssh arguments to use</span>
<span class=c1># Leaving off ControlPersist will result in poor performance, so use</span>
<span class=c1># paramiko on older platforms rather than removing it, -C controls compression use</span>
<span class=c1>#ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s</span>

<span class=c1># The base directory for the ControlPath sockets.</span>
<span class=c1># This is the &quot;%(directory)s&quot; in the control_path option</span>
<span class=c1>#</span>
<span class=c1># Example:</span>
<span class=c1># control_path_dir = /tmp/.ansible/cp</span>
<span class=c1>#control_path_dir = ~/.ansible/cp</span>

<span class=c1># The path to use for the ControlPath sockets. This defaults to a hashed string of the hostname,</span>
<span class=c1># port and username (empty string in the config). The hash mitigates a common problem users</span>
<span class=c1># found with long hostnames and the conventional %(directory)s/ansible-ssh-%%h-%%p-%%r format.</span>
<span class=c1># In those cases, a &quot;too long for Unix domain socket&quot; ssh error would occur.</span>
<span class=c1>#</span>
<span class=c1># Example:</span>
<span class=c1># control_path = %(directory)s/%%h-%%r</span>
<span class=c1>#control_path =</span>

<span class=c1># Enabling pipelining reduces the number of SSH operations required to</span>
<span class=c1># execute a module on the remote server. This can result in a significant</span>
<span class=c1># performance improvement when enabled, however when using &quot;sudo:&quot; you must</span>
<span class=c1># first disable &#39;requiretty&#39; in /etc/sudoers</span>
<span class=c1>#</span>
<span class=c1># By default, this option is disabled to preserve compatibility with</span>
<span class=c1># sudoers configurations that have requiretty (the default on many distros).</span>
<span class=c1>#</span>
<span class=c1>#pipelining = False</span>

<span class=c1># Control the mechanism for transferring files (old)</span>
<span class=c1>#   * smart = try sftp and then try scp [default]</span>
<span class=c1>#   * True = use scp only</span>
<span class=c1>#   * False = use sftp only</span>
<span class=c1>#scp_if_ssh = smart</span>

<span class=c1># Control the mechanism for transferring files (new)</span>
<span class=c1># If set, this will override the scp_if_ssh option</span>
<span class=c1>#   * sftp  = use sftp to transfer files</span>
<span class=c1>#   * scp   = use scp to transfer files</span>
<span class=c1>#   * piped = use &#39;dd&#39; over SSH to transfer files</span>
<span class=c1>#   * smart = try sftp, scp, and piped, in that order [default]</span>
<span class=c1>#transfer_method = smart</span>

<span class=c1># if False, sftp will not use batch mode to transfer files. This may cause some</span>
<span class=c1># types of file transfer failures impossible to catch however, and should</span>
<span class=c1># only be disabled if your sftp version has problems with batch mode</span>
<span class=c1>#sftp_batch_mode = False</span>

<span class=c1># The -tt argument is passed to ssh when pipelining is not enabled because sudo </span>
<span class=c1># requires a tty by default. </span>
<span class=c1>#usetty = True</span>

<span class=c1># Number of times to retry an SSH connection to a host, in case of UNREACHABLE.</span>
<span class=c1># For each retry attempt, there is an exponential backoff,</span>
<span class=c1># so after the first attempt there is 1s wait, then 2s, 4s etc. up to 30s (max).</span>
<span class=c1>#retries = 3</span>

<span class=k>[persistent_connection]</span>

<span class=c1># Configures the persistent connection timeout value in seconds.  This value is</span>
<span class=c1># how long the persistent connection will remain idle before it is destroyed.</span>
<span class=c1># If the connection doesn&#39;t receive a request before the timeout value</span>
<span class=c1># expires, the connection is shutdown. The default value is 30 seconds.</span>
<span class=c1>#connect_timeout = 30</span>

<span class=c1># The command timeout value defines the amount of time to wait for a command</span>
<span class=c1># or RPC call before timing out. The value for the command timeout must</span>
<span class=c1># be less than the value of the persistent connection idle timeout (connect_timeout)</span>
<span class=c1># The default value is 30 second.</span>
<span class=c1>#command_timeout = 30</span>

<span class=k>[accelerate]</span>
<span class=c1>#accelerate_port = 5099</span>
<span class=c1>#accelerate_timeout = 30</span>
<span class=c1>#accelerate_connect_timeout = 5.0</span>

<span class=c1># The daemon timeout is measured in minutes. This time is measured</span>
<span class=c1># from the last activity to the accelerate daemon.</span>
<span class=c1>#accelerate_daemon_timeout = 30</span>

<span class=c1># If set to yes, accelerate_multi_key will allow multiple</span>
<span class=c1># private keys to be uploaded to it, though each user must</span>
<span class=c1># have access to the system via SSH to add a new key. The default</span>
<span class=c1># is &quot;no&quot;.</span>
<span class=c1>#accelerate_multi_key = yes</span>

<span class=k>[selinux]</span>
<span class=c1># file systems that require special treatment when dealing with security context</span>
<span class=c1># the default behaviour that copies the existing context or uses the user default</span>
<span class=c1># needs to be changed to use the file system dependent context.</span>
<span class=c1>#special_context_filesystems=nfs,vboxsf,fuse,ramfs,9p,vfat</span>

<span class=c1># Set this to yes to allow libvirt_lxc connections to work without SELinux.</span>
<span class=c1>#libvirt_lxc_noseclabel = yes</span>

<span class=k>[colors]</span>
<span class=c1>#highlight = white</span>
<span class=c1>#verbose = blue</span>
<span class=c1>#warn = bright purple</span>
<span class=c1>#error = red</span>
<span class=c1>#debug = dark gray</span>
<span class=c1>#deprecate = purple</span>
<span class=c1>#skip = cyan</span>
<span class=c1>#unreachable = red</span>
<span class=c1>#ok = green</span>
<span class=c1>#changed = yellow</span>
<span class=c1>#diff_add = green</span>
<span class=c1>#diff_remove = red</span>
<span class=c1>#diff_lines = cyan</span>


<span class=k>[diff]</span>
<span class=c1># Always print diff when running ( same as always running with -D/--diff )</span>
<span class=c1># always = no</span>

<span class=c1># Set how many context lines to show in diff</span>
<span class=c1># context = 3</span>
</code></pre></div> <h3 id=_4>常用设置<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <p>下列列出了常用的一些设置，可用作参考。</p> <div class=highlight><pre><span></span><code><span class=k>[defaults]</span>
<span class=c1># Set the log_path</span>
<span class=na>log_path</span> <span class=o>=</span> <span class=s>~/ansible.log</span>

<span class=c1># Additional default options for Ansible</span>
<span class=na>forks</span> <span class=o>=</span> <span class=s>20</span>
<span class=na>host_key_checking</span> <span class=o>=</span> <span class=s>False</span>
<span class=na>retry_files_enabled</span> <span class=o>=</span> <span class=s>False</span>
<span class=na>retry_files_save_path</span> <span class=o>=</span> <span class=s>~/ansible-installer-retries</span>
<span class=na>nocows</span> <span class=o>=</span> <span class=s>True</span>
<span class=na>remote_user</span> <span class=o>=</span> <span class=s>root</span>
<span class=na>roles_path</span> <span class=o>=</span> <span class=s>roles/</span>
<span class=na>gathering</span> <span class=o>=</span> <span class=s>smart</span>
<span class=na>fact_caching</span> <span class=o>=</span> <span class=s>jsonfile</span>
<span class=na>fact_caching_connection</span> <span class=o>=</span> <span class=s>$HOME/ansible/facts</span>
<span class=na>fact_caching_timeout</span> <span class=o>=</span> <span class=s>600</span>
<span class=na>callback_whitelist</span> <span class=o>=</span> <span class=s>profile_tasks</span>
<span class=na>inventory_ignore_extensions</span> <span class=o>=</span> <span class=s>secrets.py, .pyc, .cfg, .crt, .ini</span>
<span class=c1># work around privilege escalation timeouts in ansible:</span>
<span class=na>timeout</span> <span class=o>=</span> <span class=s>30</span>
<span class=na>host_key_checking</span> <span class=o>=</span> <span class=s>False</span>

<span class=c1># Uncomment to use the provided example inventory</span>
<span class=c1>#inventory = inventory/hosts.example</span>

<span class=na>ansible_managed</span> <span class=o>=</span> <span class=s>Ansible managed: {file} modified by {uid} on {host}</span>

<span class=k>[inventory]</span>
<span class=c1># fail more helpfully when the inventory file does not parse (Ansible 2.4+)</span>
<span class=na>unparsed_is_failed</span><span class=o>=</span><span class=s>true</span>

<span class=c1># Additional ssh options for OpenShift Ansible</span>
<span class=k>[ssh_connection]</span>
<span class=na>retries</span> <span class=o>=</span> <span class=s>15</span>
<span class=na>pipelining</span> <span class=o>=</span> <span class=s>True</span>
<span class=na>ssh_args</span> <span class=o>=</span> <span class=s>-o ControlMaster=auto -o ControlPersist=600s</span>
<span class=na>timeout</span> <span class=o>=</span> <span class=s>10</span>
<span class=c1># shorten the ControlPath which is often too long; when it is,</span>
<span class=c1># ssh connection reuse silently fails, making everything slower.</span>
<span class=na>control_path</span> <span class=o>=</span> <span class=s>%(directory)s/%%h-%%r</span>
</code></pre></div> <h2 id=ansible-config>ansible-config<a class=headerlink href=#ansible-config title="Permanent link">&para;</a></h2> <p>使用 <code>ansible-config</code> 程序可以查看所有可用的配置设置、以及它们的默认值、还有它们的当前值来自何处。 </p> <p><strong>查看当前配置文件</strong></p> <div class=highlight><pre><span></span><code>ansible-config view
</code></pre></div> <p><strong>查看当前配置</strong></p> <div class=highlight><pre><span></span><code>ansible-config dump
</code></pre></div> <p><strong>查看配置项说明</strong></p> <div class=highlight><pre><span></span><code>ansible-config list
</code></pre></div> <h2 id=_5>配置的优先级<a class=headerlink href=#_5 title="Permanent link">&para;</a></h2> <p><strong>Ansible</strong> 提供了四种资源来控制它的行为。按照从最低(最容易被覆盖)到最高(覆盖所有其他)的优先级顺序，这些类别是 </p> <ul> <li> <p>Configuration settings 配置文件设置</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><strong>Ansible</strong> 配置文件拥有最低的优先级，但文件可以存放在不同的位置，其中只有一个可用。在下列列表中，ansible从上往下依次检查，检查到哪个可用就用哪个。</p> <ul> <li><code>ANSIBLE_CONFIG</code> 环境变量，可以定义配置文件的位置</li> <li><code>./ansible.cfg</code> 存在于当前工作目录</li> <li><code>~/.ansible.cfg</code> 存在与当前用户家目录</li> <li><code>/etc/ansible/ansible.cfg</code></li> </ul> </div> </li> <li> <p>Command-line options 命令行选项</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>命令行选项将覆盖任何配置文件的设置 <div class=highlight><pre><span></span><code><span class=c1># 指定多个-u时，后面的覆盖前面</span>
<span class="l l-Scalar l-Scalar-Plain">ansible -u mike -m ping myhost -u carol</span>
<span class="l l-Scalar l-Scalar-Plain"># 可以指定多个-i选项</span>
<span class="l l-Scalar l-Scalar-Plain">ansible -i /path/inventory1 -i /path/inventory2 -m ping all</span>
</code></pre></div></p> </div> <ul> <li>Playbook keywords playbook关键字</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>playbook关键字 将覆盖命令行选项和配置文件中的设置 在playbook关键字中，优先级与playbook本身一起变动;越具体的设置越能战胜越笼统的设置，如 <code>tasks &gt; blocks/includes/imports/roles &gt; play</code> <div class=highlight><pre><span></span><code><span class="p p-Indicator">-</span> <span class=nt>hosts</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">all</span>
  <span class=nt>connection</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">ssh</span>
  <span class=nt>tasks</span><span class=p>:</span>
    <span class="p p-Indicator">-</span> <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">This task uses ssh.</span>
      <span class=nt>ping</span><span class=p>:</span>
    <span class="p p-Indicator">-</span> <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">This task uses paramiko.</span>
      <span class=nt>connection</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">paramiko</span>
      <span class=nt>ping</span><span class=p>:</span>
</code></pre></div></p> </div> <ul> <li>Variables 变量</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>变量将覆盖playbook关键字、命令行选项和配置文件中设置 在playbook中使用<code>vars</code> 设置变量，其中变量优先级也是遵守具体优先的策略。 <div class=highlight><pre><span></span><code><span class="p p-Indicator">-</span> <span class=nt>hosts</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">cloud</span>
  <span class=nt>gather_facts</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
  <span class=nt>become</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
  <span class=nt>vars</span><span class=p>:</span>
    <span class=nt>ansible_become_user</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
  <span class=nt>tasks</span><span class=p>:</span>
    <span class="p p-Indicator">-</span> <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">This task uses admin as the become user.</span>
      <span class=nt>dnf</span><span class=p>:</span>
        <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">some-service</span>
        <span class=nt>state</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">latest</span>
    <span class="p p-Indicator">-</span> <span class=nt>block</span><span class=p>:</span>
        <span class="p p-Indicator">-</span> <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">This task uses service-admin as the become user.</span>
          <span class=c1># a task to configure the new service</span>
        <span class="p p-Indicator">-</span> <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">This task also uses service-admin as the become user, defined in the block.</span>
          <span class=c1># second task to configure the service</span>
      <span class=nt>vars</span><span class=p>:</span>
        <span class=nt>ansible_become_user</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">service-admin</span>
    <span class="p p-Indicator">-</span> <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">This task (outside of the block) uses admin as the become user again.</span>
      <span class=nt>service</span><span class=p>:</span>
        <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">some-service</span>
        <span class=nt>state</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">restarted</span>
</code></pre></div> 在命令行工具中使用 <code>-e</code> 指定变量时，将覆盖playbook中的变量 <div class=highlight><pre><span></span><code>ansible -u carol -e <span class=s1>&#39;ansible_user=brian&#39;</span> -a whoami all
</code></pre></div></p> </div> </li> </ul> <h2 id=_6>配置项<a class=headerlink href=#_6 title="Permanent link">&para;</a></h2> <p>列出<code>ansible</code>目前版本（<code>2.9.6</code>）可用的选项配置</p> <table> <thead> <tr> <th>环境变量</th> <th align=left>Ini key</th> <th>Ini section</th> <th>类型</th> <th>默认值</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>ANSIBLE_ACTION_WARNINGS</td> <td align=left>action_warnings</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>输出任务的警告信息</td> </tr> <tr> <td>ANSIBLE_AGNOSTIC_BECOME_PROMPT</td> <td align=left>agnostic_become_prompt</td> <td>privilege_escalation</td> <td>boolean</td> <td>True</td> <td>输出权限提升提示</td> </tr> <tr> <td></td> <td align=left>allow_world_readable_tmpfiles</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否在目标服务器上创建临时目录时显示警告而不是失败。</td> </tr> <tr> <td>ANSIBLE_CONNECTION_PATH</td> <td align=left>ansible_connection_path</td> <td>persistent_connection</td> <td>path</td> <td>None</td> <td>指定在何处查找ansibl-connection脚本，为空时，将在当前目录查找</td> </tr> <tr> <td>ANSIBLE_COW_PATH</td> <td align=left>cowpath</td> <td>defaults</td> <td>string</td> <td>None</td> <td>指定一个自定义cowsay路径</td> </tr> <tr> <td>ANSIBLE_COW_SELECTION</td> <td align=left>cow_selection</td> <td>defaults</td> <td></td> <td>defaults</td> <td>选择一个特定的cowsay模板</td> </tr> <tr> <td>ANSIBLE_COW_WHITELIST</td> <td align=left>cow_whitelist</td> <td>defaults</td> <td>list</td> <td>[‘bud-frogs<code>, ‘bunny</code>, ‘cheese<code>, ‘daemon</code>, ‘default<code>, ‘dragon</code>, ‘elephant-in-snake<code>, ‘elephant</code>, ‘eyes<code>, ‘hellokitty</code>, ‘kitty<code>, ‘luke-koala</code>, ‘meow<code>, ‘milk</code>, ‘moofasa<code>, ‘moose</code>, ‘ren<code>, ‘sheep</code>, ‘small<code>, ‘stegosaurus</code>, ‘stimpy<code>, ‘supermilker</code>, ‘three-eyes<code>, ‘turkey</code>, ‘turtle<code>, ‘tux</code>, ‘udder<code>, ‘vader-koala</code>, ‘vader<code>, ‘www</code>]</td> <td>Cowsay模板白名单</td> </tr> <tr> <td>ANSIBLE_FORCE_COLOR</td> <td align=left>force_color</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>强制输出颜色</td> </tr> <tr> <td>ANSIBLE_NOCOLOR</td> <td align=left>nocolor</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否允许着色显示信息。</td> </tr> <tr> <td>ANSIBLE_NOCOWS</td> <td align=left>nocows</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>如果你已经安装了cowsay，但是想避免使用<code>cows</code>，请使用这个。</td> </tr> <tr> <td>ANSIBLE_PIPELINING</td> <td align=left>pipelining</td> <td>connection</td> <td>boolean</td> <td>False</td> <td>连接管道</td> </tr> <tr> <td>ANSIBLE_SSH_PIPELINING</td> <td align=left>pipelining</td> <td>ssh_connection</td> <td>boolean</td> <td>False</td> <td>启用管道模式， 启用后可以提高性能。</td> </tr> <tr> <td>ANSIBLE_SSH_ARGS</td> <td align=left>ssh_args</td> <td>ssh_connection</td> <td></td> <td>-C -o ControlMaster=auto -o ControlPersist=60s</td> <td>ssh参数</td> </tr> <tr> <td>ANSIBLE_CONNECTION_PATH</td> <td align=left>ansible_connection_path</td> <td>persistent_connection</td> <td>path</td> <td>None</td> <td>指定在何处查找ansibl-connection脚本，为空时，将在当前目录查找</td> </tr> <tr> <td>ANSIBLE_SSH_CONTROL_PATH_DIR</td> <td align=left>control_path_dir</td> <td>ssh_connection</td> <td></td> <td>~/.ansible/cp</td> <td>ssh控制路径的目录</td> </tr> <tr> <td>ANSIBLE_SSH_CONTROL_PATH</td> <td align=left>control_path</td> <td>ssh_connection</td> <td></td> <td>None</td> <td>这是保存ssh的ControlPath套接字的位置，它使用ssh的变量替换。</td> </tr> <tr> <td>ANSIBLE_SSH_EXECUTABLE</td> <td align=left>ssh_executable</td> <td>ssh_connection</td> <td></td> <td>ssh</td> <td>定义了ssh二进制文件的位置</td> </tr> <tr> <td>ANSIBLE_SSH_RETRIES</td> <td align=left>retries</td> <td>ssh_connection</td> <td>integer</td> <td>0</td> <td>ssh尝试建立连接的次数</td> </tr> <tr> <td>ANSIBLE_ANY_ERRORS_FATAL</td> <td align=left>any_errors_fatal</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>为True，则任务失败将被视为致命错误，会立即停止执行</td> </tr> <tr> <td>ANSIBLE_BECOME_ALLOW_SAME_USER</td> <td align=left>become_allow_same_user</td> <td>privilege_escalation</td> <td>boolean</td> <td>False</td> <td>当连接用户和become用户一致时，是否跳过become</td> </tr> <tr> <td>ANSIBLE_BECOME_PLUGINS</td> <td align=left>become_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/become:/usr/share/ansible/plugins/become</td> <td>become 插件路径</td> </tr> <tr> <td>ANSIBLE_INVENTORY</td> <td align=left>inventory</td> <td>defaults</td> <td>pathlist</td> <td>/etc/ansible/hosts</td> <td>逗号分隔的主机文件列表</td> </tr> <tr> <td>ANSIBLE_LIBRARY</td> <td align=left>library</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/modules:/usr/share/ansible/plugins/modules</td> <td>冒号分隔的模块路径</td> </tr> <tr> <td>ANSIBLE_MODULE_UTILS</td> <td align=left>module_utils</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/module_utils:/usr/share/ansible/plugins/module_utils</td> <td>用于存放模块共享的文件</td> </tr> <tr> <td></td> <td align=left>remote_tmp</td> <td>defaults</td> <td>tmppath</td> <td>~/.ansible/tmp</td> <td>节点的临时目录</td> </tr> <tr> <td>ANSIBLE_LOCAL_TEMP</td> <td align=left>local_tmp</td> <td>defaults</td> <td>tmppath</td> <td>~/.ansible/tmp</td> <td>控制端的临时目录</td> </tr> <tr> <td></td> <td align=left>plugin_filters_cfg</td> <td>defaults</td> <td></td> <td>/etc/ansible/plugin_filters.yml</td> <td>插件过滤器文件</td> </tr> <tr> <td>ANSIBLE_FORKS</td> <td align=left>forks</td> <td>defaults</td> <td>integer</td> <td>5</td> <td>在目标主机上执行任务的最大数。</td> </tr> <tr> <td>ANSIBLE_POLL_INTERVAL</td> <td align=left>poll_interval</td> <td>defaults</td> <td>integer</td> <td>15</td> <td>指定异步任务的轮询间隔时间</td> </tr> <tr> <td>ANSIBLE_SUDO_USER</td> <td align=left>sudo_user</td> <td>defaults</td> <td></td> <td>None</td> <td>sudo的用户，将在2.8废弃</td> </tr> <tr> <td>ANSIBLE_ASK_SUDO_PASS</td> <td align=left>ask_sudo_pass</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否提示输入sudo用户的密码，将在2.8废弃</td> </tr> <tr> <td>ANSIBLE_ASK_PASS</td> <td align=left>ask_pass</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否提示输入ssh连接密码，使用ssh秘钥链接不需要打开此项。</td> </tr> <tr> <td>ANSIBLE_TRANSPORT</td> <td align=left>transport</td> <td>defaults</td> <td></td> <td>smart</td> <td>默认连接插件</td> </tr> <tr> <td>ANSIBLE_REMOTE_PORT</td> <td align=left>remote_port</td> <td>defaults</td> <td>integer</td> <td>None</td> <td>用于远程连接的端口，为空时，将用插件默认值</td> </tr> <tr> <td>ANSIBLE_MODULE_LANG</td> <td align=left>module_lang</td> <td>defaults</td> <td></td> <td controller_lang=CONTROLLER_LANG _={></td> <td>在目标上执行时用于模块的语言区域设置。 如果为空，它会尝试将其自身设置为控制器上的LANG环境变量。仅在module_set_locale为ture的时候。</td> </tr> <tr> <td>ANSIBLE_MODULE_SET_LOCALE</td> <td align=left>module_set_locale</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>控制在目标上执行时是否为模块设置语言环境。</td> </tr> <tr> <td>ANSIBLE_GATHERING</td> <td align=left>gathering</td> <td>defaults</td> <td></td> <td>implicit</td> <td>是否收集fact信息</td> </tr> <tr> <td>ANSIBLE_GATHER_SUBSET</td> <td align=left>gather_subset</td> <td>defaults</td> <td></td> <td>all</td> <td>设置收集fact的分组模块</td> </tr> <tr> <td>ANSIBLE_GATHER_TIMEOUT</td> <td align=left>gather_timeout</td> <td>defaults</td> <td>integer</td> <td>10</td> <td>设置超时值，以秒为单位。</td> </tr> <tr> <td>ANSIBLE_ROLES_PATH</td> <td align=left>roles_path</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles</td> <td>搜索roles的路径</td> </tr> <tr> <td>ANSIBLE_HOST_KEY_CHECKING</td> <td align=left>host_key_checking</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>连接主机时是否进行主机密钥检查</td> </tr> <tr> <td>ANSIBLE_STDOUT_CALLBACK</td> <td align=left>stdout_callback</td> <td>defaults</td> <td></td> <td>defaults</td> <td>设置ansible显示输出的callback，只能设置一个。</td> </tr> <tr> <td>ANSIBLE_CALLBACK_WHITELIST</td> <td align=left>callback_whitelist</td> <td>defaults</td> <td>list</td> <td>[]</td> <td>callback的白名单列表，只有在这个列表中，ansible才会使用。</td> </tr> <tr> <td>ANSIBLE_TASK_INCLUDES_STATIC</td> <td align=left>task_includes_static</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否将include设置为静态包含。2.8废弃</td> </tr> <tr> <td>ANSIBLE_HANDLER_INCLUDES_STATIC</td> <td align=left>handler_includes_static</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否将include设置为静态包含。2.8废弃</td> </tr> <tr> <td>ANSIBLE_ERROR_ON_MISSING_HANDLER</td> <td align=left>error_on_missing_handler</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>是否在handler程序缺少或错误的时候，提示警告而不是错误。</td> </tr> <tr> <td>ANSIBLE_SUDO_EXE</td> <td align=left>sudo_exe</td> <td>defaults</td> <td></td> <td>sudo</td> <td>指定一个“sudo”可执行文件，2.8废弃</td> </tr> <tr> <td>ANSIBLE_SUDO_FLAGS</td> <td align=left>sudo_flags</td> <td>defaults</td> <td></td> <td>-H -S -n</td> <td>指定sudo的参数，2.8废弃</td> </tr> <tr> <td>ANSIBLE_TIMEOUT</td> <td align=left>Timeout</td> <td>defaults</td> <td>integer</td> <td>10</td> <td>连接插件使用的默认超时时间。</td> </tr> <tr> <td>ANSIBLE_REMOTE_USER</td> <td align=left>remote_user</td> <td>defaults</td> <td></td> <td>None</td> <td>设置目标的登录用户，如果为空，则为运行ansible的用户</td> </tr> <tr> <td>ANSIBLE_LOG_PATH</td> <td align=left>log_path</td> <td>defaults</td> <td></td> <td>None</td> <td>在控制器上的日志文件路径，用于记录ansible运行的日志。</td> </tr> <tr> <td></td> <td align=left>module_name</td> <td>defaults</td> <td></td> <td>command</td> <td>AdHoc命令一起使用，没有指定-m模块的就用这个默认值</td> </tr> <tr> <td>ANSIBLE_EXECUTABLE</td> <td align=left>executable</td> <td>defaults</td> <td></td> <td>/bin/sh</td> <td>在节点上，ansible执行的shell解释器。</td> </tr> <tr> <td>ANSIBLE_HASH_BEHAVIOUR</td> <td align=left>hash_behaviour</td> <td>defaults</td> <td>string</td> <td>replace</td> <td>控制Ansible中的变量合并方式。</td> </tr> <tr> <td>ANSIBLE_PRIVATE_ROLE_VARS</td> <td align=left>private_role_vars</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>使角色变量无法从其他角色访问。</td> </tr> <tr> <td>ANSIBLE_JINJA2_EXTENSIONS</td> <td align=left>jinja2_extensions</td> <td>defaults</td> <td></td> <td>[]</td> <td>启用额外的Jinja2扩展列表</td> </tr> <tr> <td>ANSIBLE_PRIVATE_KEY_FILE</td> <td align=left>private_key_file</td> <td>defaults</td> <td></td> <td>None</td> <td>连接证书或密码，-private-key的默认值</td> </tr> <tr> <td>ANSIBLE_VAULT_PASSWORD_FILE</td> <td align=left>vault_password_file</td> <td>defaults</td> <td>path</td> <td>None</td> <td>要使用的vault密码文件。 等同于-vault-password-file或-vault-id</td> </tr> <tr> <td></td> <td align=left>ansible_managed</td> <td>defaults</td> <td></td> <td>Ansible managed</td> <td>在模板ansible_managed的值</td> </tr> <tr> <td>DISPLAY_SKIPPED_HOSTS</td> <td align=left>display_skipped_hosts</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>在默认callback插件中是否显示跳过的主机信息。</td> </tr> <tr> <td>ANSIBLE_DISPLAY_ARGS_TO_STDOUT</td> <td align=left>display_args_to_stdout</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否在callback中显示任务的参数信息</td> </tr> <tr> <td>ANSIBLE_ERROR_ON_UNDEFINED_VARS</td> <td align=left>error_on_undefined_vars</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>模板中出现错误或未定义的变量，是否提示错误信息。</td> </tr> <tr> <td>ANSIBLE_SYSTEM_WARNINGS</td> <td align=left>system_warnings</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>是否显示系统警告信息。</td> </tr> <tr> <td>ANSIBLE_DEPRECATION_WARNINGS</td> <td align=left>deprecation_warnings</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>是否显示模块被弃用的警告信息。</td> </tr> <tr> <td>ANSIBLE_COMMAND_WARNINGS</td> <td align=left>command_warnings</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>是否显示，在shell和command模块中使用与ansible模块类似的警告信息。</td> </tr> <tr> <td>ANSIBLE_ACTION_PLUGINS</td> <td align=left>action_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/action:/usr/share/ansible/plugins/action</td> <td>action插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGINS</td> <td align=left>cache_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/cache:/usr/share/ansible/plugins/cache</td> <td>cache插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_CALLBACK_PLUGINS</td> <td align=left>callback_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/callback:/usr/share/ansible/plugins/callback</td> <td>callback插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_CONNECTION_PLUGINS</td> <td align=left>connection_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/connection:/usr/share/ansible/plugins/connection</td> <td>connection插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_LOOKUP_PLUGINS</td> <td align=left>lookup_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/lookup:/usr/share/ansible/plugins/lookup</td> <td>lookup插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_INVENTORY_PLUGINS</td> <td align=left>inventory_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/inventory:/usr/share/ansible/plugins/inventory</td> <td>inventory插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_VARS_PLUGINS</td> <td align=left>vars_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/vars:/usr/share/ansible/plugins/vars</td> <td>vars插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_FILTER_PLUGINS</td> <td align=left>filter_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/filter:/usr/share/ansible/plugins/filter</td> <td>filter插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_TEST_PLUGINS</td> <td align=left>test_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/test:/usr/share/ansible/plugins/test</td> <td>test插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_TERMINAL_PLUGINS</td> <td align=left>terminal_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/terminal:/usr/share/ansible/plugins/terminal</td> <td>terminal插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_STRATEGY_PLUGINS</td> <td align=left>strategy_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/strategy:/usr/share/ansible/plugins/strategy</td> <td>strategy插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_STRATEGY</td> <td align=left>strategy</td> <td>defaults</td> <td></td> <td>linear</td> <td>默认策略</td> </tr> <tr> <td>ANSIBLE_LOAD_CALLBACK_PLUGINS</td> <td align=left>bin_ansible_callbacks</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>控制运行ansible时，是否加载callback插件</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGIN</td> <td align=left>fact_caching</td> <td>defaults</td> <td></td> <td>memory</td> <td>选择使用哪个缓存插件为fact存储所用</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGIN_CONNECTION</td> <td align=left>fact_caching_connection</td> <td>defaults</td> <td></td> <td>none</td> <td>定义缓存插件的连接</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGIN_PREFIX</td> <td align=left>fact_caching_prefix</td> <td>defaults</td> <td></td> <td>ansible_facts</td> <td>缓存插件文件/表的前缀</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGIN_TIMEOUT</td> <td align=left>fact_caching_timeout</td> <td>defaults</td> <td>integer</td> <td>86400</td> <td>缓存插件数据的过期超时时间</td> </tr> <tr> <td>ANSIBLE_RETRY_FILES_ENABLED</td> <td align=left>retry_files_enabled</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>控制着一个失败的Ansible剧本应该创建一个.retry文件。</td> </tr> <tr> <td>ANSIBLE_RETRY_FILES_SAVE_PATH</td> <td align=left>retry_files_save_path</td> <td>defaults</td> <td>path</td> <td>none</td> <td>保存.retry文件的路径。</td> </tr> <tr> <td>ANSIBLE_SQUASH_ACTIONS</td> <td align=left>squash_actions</td> <td>defaults</td> <td>list</td> <td>apk, apt, dnf, homebrew, openbsd_pkg, pacman, pkgng, yum, zypper</td> <td>在使用with_循环时，Ansible可以优化调用支持列表参数的模块的操作。使参数组合为一个列表传递给模块。</td> </tr> <tr> <td>ANSIBLE_NO_LOG</td> <td align=left>no_log</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>控制Ansible的显示和记录任务信息日志。</td> </tr> <tr> <td>ANSIBLE_NO_TARGET_SYSLOG</td> <td align=left>no_target_syslog</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>执行任务时，Ansible日志是否显示在目标系统日志。</td> </tr> <tr> <td></td> <td align=left>module_compression</td> <td>defaults</td> <td></td> <td>ZIP_DEFLATED</td> <td>将Python模块传输到目标时使用的压缩方案。</td> </tr> <tr> <td>ANSIBLE_MAX_DIFF_SIZE</td> <td align=left>max_diff_size</td> <td>defaults</td> <td>int</td> <td>104448</td> <td>要显示差异文件的最大文件大小</td> </tr> <tr> <td>ANSIBLE_SHOW_CUSTOM_STATS</td> <td align=left>show_custom_stats</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否通过set_stats插件设置的自定义统计信息添加到默认输出</td> </tr> <tr> <td>ANSIBLE_INVENTORY_IGNORE</td> <td align=left>inventory_ignore_extensions</td> <td>defaults</td> <td></td> <td>{{(BLACKLIST_EXTS + ( ‘~<code>, ‘.orig</code>, ‘.ini<code>, ‘.cfg</code>, ‘.retry`))}}</td> <td>将目录用作库存源时忽略的扩展名列表</td> </tr> <tr> <td></td> <td align=left>allow_unsafe_lookups</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td _lookup（_foo_）="{lookup（'foo'）">为True时，此选项允许查找插件（无论在变量中用作</td> </tr> <tr> <td>ANSIBLE_INVENTORY_ENABLED</td> <td align=left>enable_plugins</td> <td>inventory</td> <td></td> <td>[‘host_list<code>, ‘script</code>, ‘yaml<code>, ‘ini</code>, ‘auto`]</td> <td>启用的库存插件列表，也决定了它们的使用顺序。</td> </tr> <tr> <td>ANSIBLE_INVENTORY_IGNORE</td> <td align=left>ignore_extensions</td> <td>inventory</td> <td></td> <td>{{(BLACKLIST_EXTS + ( ‘~<code>, ‘.orig</code>, ‘.ini<code>, ‘.cfg</code>, ‘.retry`))}}</td> <td>将目录用作库存源时忽略的扩展名列表</td> </tr> <tr> <td>ANSIBLE_INVENTORY_IGNORE_REGEX</td> <td align=left>ignore_patterns</td> <td>inventory</td> <td>list</td> <td>[]</td> <td>将目录用作库存源时要忽略的模式列表</td> </tr> <tr> <td>ANSIBLE_INVENTORY_UNPARSED_FAILED</td> <td align=left>unparsed_is_failed</td> <td>inventory</td> <td>boolean</td> <td>False</td> <td>为true时，未分类的主机会提示致命错误。</td> </tr> <tr> <td>ANSIBLE_BECOME</td> <td align=left>become</td> <td>privilege_escalation</td> <td>boolean</td> <td>False</td> <td>是否开启特权升级</td> </tr> <tr> <td>ANSIBLE_BECOME_METHOD</td> <td align=left>become_method</td> <td>privilege_escalation</td> <td></td> <td>sudo</td> <td>特权升级的方式</td> </tr> <tr> <td>ANSIBLE_BECOME_USER</td> <td align=left>become_user</td> <td>privilege_escalation</td> <td></td> <td>root</td> <td>特权升级的用户</td> </tr> <tr> <td>ANSIBLE_BECOME_ASK_PASS</td> <td align=left>become_ask_pass</td> <td>privilege_escalation</td> <td>boolean</td> <td>False</td> <td>输入特权升级的密码</td> </tr> <tr> <td>ANSIBLE_BECOME_FLAGS</td> <td align=left>become_flags</td> <td>privilege_escalation</td> <td></td> <td></td> <td>传递给特权升级可执行文件的参数。</td> </tr> <tr> <td>ANSIBLE_BECOME_EXE</td> <td align=left>become_exe</td> <td>privilege_escalation</td> <td></td> <td>None</td> <td>可执行文件</td> </tr> <tr> <td>ANSIBLE_PARAMIKO_LOOK_FOR_KEYS</td> <td align=left>look_for_keys</td> <td>paramiko_connection</td> <td>boolean</td> <td>True</td> <td>paramiko在尝试向远程设备进行身份验证时默认查找SSH密钥。</td> </tr> <tr> <td>ANSIBLE_PARAMIKO_HOST_KEY_AUTO_ADD</td> <td align=left>host_key_auto_add</td> <td>paramiko_connection</td> <td>boolean</td> <td>False</td> <td>默认情况下，Ansible将提示添加主机密钥。 这将导致在后台进程中运行的连接失败。为true时，Paramiko自动添加主机密钥。</td> </tr> <tr> <td>ANSIBLE_SCP_IF_SSH</td> <td align=left>scp_if_ssh</td> <td>ssh_connection</td> <td></td> <td>smart</td> <td>通过ssh传输文件时使用的首选方法，使用smart时，先尝试sftp，在尝试scp。</td> </tr> <tr> <td>ANSIBLE_SSH_TRANSFER_METHOD</td> <td align=left>transfer_method</td> <td>ssh_connection</td> <td></td> <td>None</td> <td>通过ssh传输文件时使用的首选方法，如果配置了，会覆盖scp_if_ssh</td> </tr> <tr> <td>ANSIBLE_SFTP_BATCH_MODE</td> <td align=left>sftp_batch_mode</td> <td>ssh_connection</td> <td>boolean</td> <td>True</td> <td>如果为False，sftp将不使用批处理模式传输文件。</td> </tr> <tr> <td>ANSIBLE_PERSISTENT_CONNECT_TIMEOUT</td> <td align=left>connect_timeout</td> <td>persistent_connection</td> <td>integer</td> <td>30</td> <td>控制连接保持空闲状态的时间。</td> </tr> <tr> <td>ANSIBLE_PERSISTENT_CONNECT_RETRY_TIMEOUT</td> <td align=left>connect_retry_timeout</td> <td>persistent_connection</td> <td>integer</td> <td>15</td> <td>控制连接重试超时时间</td> </tr> <tr> <td>ANSIBLE_PERSISTENT_CONNECT_TIMEOUT</td> <td align=left>command_timeout</td> <td>persistent_connection</td> <td>integer</td> <td>30</td> <td>控制连接超时时间</td> </tr> <tr> <td>ANSIBLE_SELINUX_SPECIAL_FS</td> <td align=left>special_context_filesystems</td> <td>selinux</td> <td>list</td> <td>fuse, nfs, vboxsf, ramfs, 9p, vfat</td> <td>在处理安全上下文时需要特殊处理的文件系统</td> </tr> <tr> <td>LIBVIRT_LXC_NOSECLABEL</td> <td align=left>libvirt_lxc_noseclabel</td> <td>selinux</td> <td>boolean</td> <td>False</td> <td>通过将-noseclabel传递给virsh，允许libvirt_lxc连接在没有SELinux的情况下工作。</td> </tr> <tr> <td>ANSIBLE_COLOR_HIGHLIGHT</td> <td align=left>highlight</td> <td>colors</td> <td></td> <td>white</td> <td>定义用于突出显示的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_VERBOSE</td> <td align=left>verbose</td> <td>colors</td> <td></td> <td>blue</td> <td>定义发出详细消息时要使用的颜色。 即那些用'-v'表示的。</td> </tr> <tr> <td>ANSIBLE_COLOR_WARN</td> <td align=left>warn</td> <td>colors</td> <td></td> <td>bright purple</td> <td>定义发出警告消息时要使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_ERROR</td> <td align=left>error</td> <td>colors</td> <td></td> <td>red</td> <td>定义发出错误消息时使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DEBUG</td> <td align=left>debug</td> <td>colors</td> <td></td> <td>dark gray</td> <td>定义发出调试消息时使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DEPRECATE</td> <td align=left>deprecate</td> <td>colors</td> <td></td> <td>purple</td> <td>定义发出弃用消息时要使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_UNREACHABLE</td> <td align=left>unreachable</td> <td>colors</td> <td></td> <td>bright red</td> <td>定义在“无法到达”状态下使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_CHANGED</td> <td align=left>changed</td> <td>colors</td> <td></td> <td>yellow</td> <td>定义在“更改”任务状态上使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DIFF_ADD</td> <td align=left>diff_add</td> <td>colors</td> <td></td> <td>green</td> <td>定义在差异中显示添加行时使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DIFF_REMOVE</td> <td align=left>diff_remove</td> <td>colors</td> <td></td> <td>red</td> <td>定义在差异中显示已删除行时使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DIFF_LINES</td> <td align=left>diff_lines</td> <td>colors</td> <td></td> <td>cyan</td> <td>定义显示差异时使用的颜色</td> </tr> <tr> <td>ANSIBLE_DIFF_ALWAYS</td> <td align=left>always</td> <td>diff</td> <td>boolean</td> <td>False</td> <td>是否显示模块在处于“更改”状态时显示差异，相当于--diff。</td> </tr> <tr> <td>ANSIBLE_DIFF_CONTEXT</td> <td align=left>context</td> <td>diff</td> <td>integer</td> <td>3</td> <td>在显示文件之间的差异时显示多少行上下文。</td> </tr> <tr> <td>ANSIBLE_YAML_FILENAME_EXT</td> <td align=left>yaml_valid_extensions</td> <td>defaults</td> <td>List</td> <td>[<code>.yml</code>, <code>.yaml</code>, <code>.json</code>]</td> <td>yaml文件的扩展名</td> </tr> </tbody> </table> <p>详细见<a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html>官网</a></p> <hr> <div class=md-source-date> <small> 最后更新: 2020-06-04 10:01:23 </small> </div> <h2 id=__comments>评论</h2> <div id=utteranc-comment></div> <script src=https://utteranc.es/client.js label=utteranc-comment repo=leops-china/ansible-wiki issue-term=pathname theme=github-light crossorigin=anonymous async>
	</script> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../Module/ title="4. 模块索引" class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> 上一页 </span> 4. 模块索引 </div> </div> </a> <a href=../../Windows/manager-windows/ title="1. 管理 Windows 主机" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> 下一页 </span> 1. 管理 Windows 主机 </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 - 2020 leops </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/leops-china/ansible-wiki target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../../../assets/javascripts/bundle.5f27aba8.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\uff0c\\u3002]+", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>